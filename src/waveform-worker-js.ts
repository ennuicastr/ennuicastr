/* THIS FILE IS GENERATED AUTOMATICALLY. DO NOT EDIT. */
export const js = "data:application/javascript,!function()%7B%22use%20strict%22%0Afunction%20t(e%2Cs)%7Bs.addEventListener(%22message%22%2C(a%3D%3E%7Bconst%20i%3Da.data%0Aif(!i)return%0Aif(%22tee%22%3D%3D%3Di.c)return%20void%20t(e%2Ci.args%5B0%5D)%0Aif(%22rpc%22!%3D%3Di.c%26%26%22rpcv%22!%3D%3Di.c)return%0Aconst%20h%3De%5Bi.f%5D%0Aif(!h)return%0Aconst%20r%3D%7Bc%3A%22rpcRet%22%2Cid%3Ai.id%7D%0Atry%7Br.ret%3Dh.apply(e%2Ci.args)%7Dcatch(t)%7Br.ex%3Dt%7Dfunction%20n()%7Bif(%22rpcv%22%3D%3D%3Di.c)return%20void(r.ex%26%26console.error(%22Unhandled%20exception%3A%22%2Cr.ex))%0Alet%20t%3D%5B%5D%0Ar.ret%26%26r.ret.transfer%3F(t%3Dr.ret.transfer%2C%22return%22in%20r.ret%26%26(r.ret%3Dr.ret.return))%3Ar.ex%26%26r.ex.transfer%26%26(t%3Dr.ex.transfer%2C%22return%22in%20r.ex%26%26(r.ex%3Dr.ex.return))%0Atry%7Bs.postMessage(r%2Ct)%7Dcatch(e)%7Br.ex%3D%22%22%2Br.ex%2Cs.postMessage(r%2Ct)%7D%7Dr.ret%26%26r.ret.then%3Fr.ret.then((t%3D%3Er.ret%3Dt)).catch((t%3D%3Er.ex%3Dt)).then(n)%3An()%7D))%0Aconst%20a%3Ds%0Aa.start%26%26a.start()%7Dconst%20e%3Dfunction(e)%7Breturn%20t(e%2C%22undefined%22!%3Dtypeof%20globalThis%3FglobalThis%3Aself)%7D%0Anew%20FinalizationRegistry((t%3D%3Et._clean()))%0Aconst%20s%3Dclass%7Bconstructor(t)%7Bthis._port%3Dt%2Cthis._idx%3D0%2Cthis._res%3D%7B%7D%2Cthis._rej%3D%7B%7D%2Ct.addEventListener(%22message%22%2Cthis._onmessage.bind(this))%0Aconst%20e%3Dt%0Ae.start%26%26e.start()%7Drpc(t%2Ce%2Cs)%7Breturn%20this._rpc(%22rpc%22%2C!0%2Ct%2Ce%2Cs)%7Drpcv(t%2Ce%2Cs)%7Bthis._rpc(%22rpcv%22%2C!1%2Ct%2Ce%2Cs)%7Dtee()%7Bconst%20t%3Dnew%20MessageChannel%0Areturn%20this._rpc(%22tee%22%2C!1%2C%22tee%22%2C%5Bt.port2%5D%2C%5Bt.port2%5D)%2Ct.port1%7D_rpc(t%2Ce%2Cs%2Ca%2Ci%3D%5B%5D)%7Bconst%20h%3Dthis._idx%2B%2B%0Alet%20r%0Areturn%20e%26%26(r%3Dnew%20Promise(((t%2Ce)%3D%3E%7Bthis._res%5Bh%5D%3Dt%2Cthis._rej%5Bh%5D%3De%7D)))%2Cthis._port.postMessage(%7Bc%3At%2Cf%3As%2Cid%3Ah%2Cargs%3Aa%7D%2Ci)%2Cr%7D_onmessage(t)%7Bif(!t%7C%7C!t.data)return%0Aconst%20e%3Dt.data.id%2Cs%3D%22ex%22in%20t.data%3Fthis._rej%5Be%5D%3Athis._res%5Be%5D%0Adelete%20this._res%5Be%5D%2Cdelete%20this._rej%5Be%5D%2Cs%26%26s(%22ex%22in%20t.data%3Ft.data.ex%3At.data.ret)%7D%7D%2Ca%3DMath.log(10)%2Ci%3D3.6*a%0Alet%20h%3Dnull%0Aconst%20r%3D%7B%7D%0Alet%20n%3D%5B%5D%2Cl%3D%7B%7D%2Co%3D!1%2Cc%3D%5B%5D%2Cp%3D%7B%7D%0Aclass%20u%7Bconstructor(t%2Ce%2Cs%2Ca%2Ci%2Cr%2Co)%7Bthis.id%3Dt%2Cthis.lbl%3De%2Cthis.sampleRate%3Ds%2Cthis.width%3Da%2Cthis.height%3Di%2Cthis.canvas%3Dr%2Cthis.lblCanvas%3Do%2Cthis.ctx%3Dr.getContext(%222d%22%2C%7Balpha%3A!1%7D)%2Cthis.lblCtx%3Do.getContext(%222d%22)%2Cthis.rotate%3D!1%2Cthis.waveData%3D%5B%5D%2Cthis.waveVADs%3D%5B%5D%2Cthis.peakData%3D%5B%5D%2Cthis.rmsData%3D%5B%5D%2Cthis.curPeak%3D0%2Cthis.rootSum%3D0%2Cthis.rmsPlaceholders%3D0%2Cthis.staleData%3Dthis.newData%3D0%2Cthis.resetTime%3Du.resetTimeMax%2Cthis.lastDisplayHeight%3D0%2Cthis.lastGood%3D!1%2Cthis.lastWaveVADColors%3Dnull%2Ch%7C%7C(h%3D(async()%3D%3E%7Blet%20t%3Dperformance.now()%0Afor(%3B%3B)%7Bawait%20new%20Promise((t%3D%3E%7Blet%20e%3Dnull%2Cs%3Dnull%0Ae%3DrequestAnimationFrame((()%3D%3E%7BclearTimeout(s)%2Ct()%7D))%2Cs%3DsetTimeout((()%3D%3E%7BcancelAnimationFrame(e)%2Ct()%7D)%2C500)%7D))%0Aconst%20e%3Dperformance.now()%0Aif(e%3E%3Dt%2B40)%7Bt%3De%0Afor(const%20t%20of%20n)t.display()%0An%3D%5B%5D%2Cl%3D%7B%7D%7D%7D%7D)())%2Cthis.push(0%2C2)%7Dpush(t%2Ce)%7Bif(this.waveData.length%3E0)%7Blet%20e%3Dthis.waveData.pop()%0Ae%3Ct%3F(e%3D(e%2Bt)%2F2%2C0%3D%3D%3Dthis.newData%26%26this.staleData%2B%2B)%3At%3D(e%2Bt)%2F2%2Cthis.waveData.push(e)%7Dthis.newData%2B%2B%2Cthis.waveData.push(t)%2Cthis.waveVADs.push(e)%2Cthis.peakData.push(t)%2Ct%3Ethis.curPeak%26%26(this.curPeak%3Dt)%0Aconst%20s%3DMath.sqrt(t)%0Ae%3E%3D2%3F(this.rmsData.push(s)%2Cthis.rootSum%2B%3Ds)%3A(this.rmsData.push(null)%2Cthis.rmsPlaceholders%2B%2B)%0Aconst%20i%3D30*this.sampleRate%0Alet%20h%3D!1%0Afor(%3Bthis.peakData.length%3Ei%3B)%7Bthis.peakData%5B0%5D%3D%3D%3Dthis.curPeak%26%26(h%3D!0)%2Cthis.peakData.shift()%0Aconst%20t%3Dthis.rmsData.shift()%0Anull!%3D%3Dt%3Fthis.rootSum-%3Dt%3Athis.rmsPlaceholders--%7Dh%26%26(this.curPeak%3DMath.max.apply(Math%2Cthis.peakData))%0Aconst%20r%3D%2230%20second%20peak%20%22%2BMath.round(20*Math.log(this.curPeak)%2Fa)%2B%22%20decibels%2C%20RMS%20%22%2BMath.round(20*Math.log(Math.pow(this.rootSum%2F(this.rmsData.length-this.rmsPlaceholders)%2C2))%2Fa)%2B%22%20decibels%22%0Af.waveformStats(this.id%2Cr)%7DupdateWaveRetroactive(t)%7Bconst%20e%3DMath.ceil(this.sampleRate*t%2F1024e3)%0Alet%20s%3DMath.max(this.waveVADs.length-e%2C0)%0Aconst%20a%3Dthis.waveVADs.length-s%0Afor(a%3Ethis.staleData%26%26(this.staleData%3Da)%3Bs%3Cthis.waveVADs.length%3Bs%2B%2B)this.waveVADs%5Bs%5D%3D1%3D%3D%3Dthis.waveVADs%5Bs%5D%3F2%3Athis.waveVADs%5Bs%5D%7DupdateWave(t%2Ce)%7Bthis.sentRecently%3De%2Cl%5Bthis.id%5D%7C%7C(n.push(this)%2Cl%5Bthis.id%5D%3D!0)%7Ddisplay()%7Bconst%20t%3Dthis.sentRecently%2Ce%3Dthis.canvas%2Cs%3Dthis.lblCanvas%0Alet%20h%3Dthis.width%2Cr%3Dthis.height%0Ah%2Fr%3C4%2F3%3Fthis.rotate%7C%7C(this.rotate%3D!0)%3Athis.rotate%26%26(this.rotate%3D!1)%0Alet%20n%3D!1%0Aif(%2Be.width!%3D%3Dh%26%26(e.width%3Dh%2Cs.width%3Dh%2Cn%3D!0)%2C%2Be.height!%3D%3Dr%26%26(e.height%3Dr%2Cs.height%3Dr%2Cn%3D!0)%2Cthis.rotate)%7Bconst%20t%3Dh%0Ah%3Dr%2Cr%3Dt%7Dh%3E12%26%26(h-%3D6)%2Cr%3DMath.floor(r%2F2)%0Aconst%20l%3DMath.max(Math.floor(h%2F468)%2C1)%2Cf%3DMath.ceil(h%2Fl)%2Cd%3Dthis.waveData%2Cg%3Dthis.waveVADs%0Afor(%3Bd.length%3Ef%3B)d.shift()%2Cg.shift()%0Afor(%3Bd.length%3Cf%3B)d.unshift(0)%2Cg.unshift(0)%0Athis.newData%3E%3Df%26%26(n%3D!0)%0Aconst%20v%3DMath.max(Math.min(1.1*Math.max.apply(Math%2Cd)%2C1)%2C.015)%2Cm%3DMath.log(v%2B1)%2Fa%0Athis.lastDisplayHeight!%3D%3Dm%26%26(this.lastDisplayHeight%3Dm%2Cn%3D!0)%0Aconst%20w%3Do%26%26t%0Athis.lastGood!%3D%3Dw%26%26(this.lastGood%3Dw%2Cn%3D!0)%2Cthis.lastWaveVADColors!%3D%3Dc%26%26(this.lastWaveVADColors%3Dc%2Cn%3D!0)%2Cthis.resetTime--%3C%3D0%26%26(n%3D!0)%0Aconst%20D%3Dthis.ctx%2Cx%3Dthis.lblCtx%0Alet%20M%2Ck%0Aif(!n)try%7Bconst%20t%3Dl*this.newData%2Ce%3Dh-t%2Cs%3D2*r%0Alet%20a%3DD.getImageData(t%2C0%2Ce%2Cs)%0AD.putImageData(a%2C0%2C0)%7Dcatch(t)%7Bn%3D!0%7Dn%26%26(this.staleData%3D0%2Cthis.newData%3Df%2Cthis.resetTime%3Du.resetTimeMax%2CD.reset()%2Cx.reset())%0Aconst%20y%3Dh-l*this.newData%0Afunction%20b(t%2Ce)%7Bif(t%3DMath.log(t%2B1)%2Fa%2Cm%3C%3Dt)return%0Aconst%20s%3Dt%2Fm*r%0AD.fillStyle%3De%2CD.fillRect(y%2Cr-s-1%2Ch-y%2C1)%2CD.fillRect(y%2Cr%2Bs%2Ch-y%2C1)%7Dfor(this.rotate%26%26(D.rotate(Math.PI%2F2)%2CD.translate(0%2C-2*r)%2Cx.rotate(Math.PI%2F2)%2Cx.translate(0%2C-2*r))%2CD.fillStyle%3Dp.bg%2CD.fillRect(y%2C0%2Ch-y%2C2*r)%2Cb(.01%2Cp%5B%22wave-too-soft%22%5D)%2CM%3Df-this.newData%2Ck%3Dh-l*this.newData%3BM%3Cf%3BM%2B%2B%2Ck%2B%3Dl)%7Bconst%20t%3DMath.log(d%5BM%5D%2B1)%2Fa%2Fm*r%0AD.fillStyle%3Dw%3Fc%5Bg%5BM%5D%5D%3A%22%23000%22%2CD.fillRect(k%2Cr-t%2Cl%2C2*t)%7Dfunction%20_(t%2Ce)%7Bconst%20s%3Dt%2B%22dB%22%2Ca%3Dx.measureText(s)%2Ci%3Dh-a.width-6-2%0Ae%3D~~(e%2Ba.actualBoundingBoxAscent%2F2)%2Cx.fillStyle%3D%22%23fff%22%2Cx.fillText(s%2Ci%2Ce)%7Db(.5%2Cp%5B%22wave-too-loud%22%5D)%2Cn%26%26(x.clearRect(0%2C0%2Ch%2C2*r)%2C_(-12%2Cr%2F3)%2C_(-24%2C2*r%2F3)%2C_(-36%2Cr))%0Alet%20R%3D2*Math.log(d%5Bd.length-1%5D)%2Fi%2B1%0AR%3Cthis.lastPeak%26%26(R%3D(3*this.lastPeak%2BR)%2F4)%2Cthis.lastPeak%3DR%0Afor(let%20t%3D0%3Bt%3C3%3Bt%2B%2B)%7Bconst%20e%3Dt%2B1%2Cs%3D(2-t)%2F3%2Ca%3D(3-t)%2F3%0AR%3C%3Da%26%26(D.fillStyle%3Dp%5B%22nopeak-%22%2Be%5D%2CD.fillRect(h%2C~~(r*t%2F3)%2C6%2C~~(2*r*(3-t)%2F3)))%2CR%3E%3Ds%26%26(D.fillStyle%3Dp%5B%22peak-%22%2Be%5D%2CR%3E%3Da%3FD.fillRect(h%2C~~(r-a*r)%2C6%2C~~(2*r*a))%3AD.fillRect(h%2C~~(r-R*r)%2C6%2C~~(2*r*R)))%7Dthis.staleData%3Dthis.newData%3D0%0Aconst%20P%3D20*Math.log(d%5Bd.length-1%5D)%2Fa%2CS%3DP%3C-100%3F0%3AP%2B100%0Alet%20A%3D%22%22%0Afor(const%20t%20of%5B%60input%5Btype%3Drange%5D.ec3-peak-horizontal-%24%7Bthis.lbl%7D%3A%3A-webkit-slider-runnable-track%60%2C%60input%5Btype%3Drange%5D.ec3-peak-horizontal-%24%7Bthis.lbl%7D%3Afocus%3A%3A-webkit-slider-runnable-track%60%2C%60input%5Btype%3Drange%5D.ec3-peak-horizontal-%24%7Bthis.lbl%7D%3A%3A-moz-range-track%60%5D)A%2B%3D%60%24%7Bt%7D%20%7B%20background%3A%20linear-gradient(90deg%2C%20var(--peak-3)%200%20%24%7BS%7D%25%2C%20var(--bg-button)%20%24%7BS%7D%25%20100%25)%3B%20%7D%20%60%0ApostMessage(%7Bc%3A%22waveform-css%22%2Cid%3Athis.id%2Ccss%3AA%7D)%7DsetCanvasSize(t%2Ce)%7Bthis.width%3Dt%2Cthis.height%3De%7D%7Du.resetTimeMax%3D1024%0Aconst%20f%3Dnew%20class%7BnewWaveform(t%2Ce%2Cs%2Ca%2Ci%2Ch%2Cn)%7Br%5Bt%5D%3Dnew%20u(t%2Ce%2Cs%2Ca%2Ci%2Ch%2Cn)%7DtermWaveform(t)%7Bdelete%20r%5Bt%5D%7Dreverse(t)%7Bthis._reverse%3Dnew%20s(t)%7Dpush(t%2Ce%2Cs)%7Br%5Bt%5D.push(e%2Cs)%7DupdateWaveRetroactive(t%2Ce)%7Br%5Bt%5D.updateWaveRetroactive(e)%7DupdateWave(t%2Ce%2Cs)%7Br%5Bt%5D.updateWave(e%2Cs)%7DsetCanvasSize(t%2Ce%2Cs)%7Br%5Bt%5D.setCanvasSize(e%2Cs)%7DsetWaveVADColors(t)%7Bc%3Dt%7DsetUIColors(t)%7Bp%3Dt%7DsetGood(t)%7Bo%3Dt%7Dasync%20waveformStats(t%2Ce)%7Bthis._reverse.rpcv(%22waveformStats%22%2C%5Bt%2Ce%5D)%7D%7D%0Ae(f)%7D()%0A";
